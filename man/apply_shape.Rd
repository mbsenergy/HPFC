% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/montecarlo.R
\name{apply_shape}
\alias{apply_shape}
\title{Apply Forecast Shaping to Power Prices}
\usage{
apply_shape(
  country = "Italy",
  name = "HPFC",
  start_date = "2024-01-01",
  end_date = "2024-12-31",
  dt_fwd_pwr,
  dt_spot_pwr,
  dt_fwd_gas,
  dt_spot_gas,
  model_gas = ENV_MODELS_GAS,
  model_pwr = ENV_MODELS_PWR
)
}
\arguments{
\item{country}{Country name (e.g., \code{"Italy"}). Used to extract the relevant PWR product code and holidays.}

\item{name}{Name identifier for the output scenario (default \code{"HPFC"}).}

\item{start_date}{Start date of the forecast period (e.g., \code{"2024-01-01"}).}

\item{end_date}{End date of the forecast period (e.g., \code{"2024-12-31"}).}

\item{dt_fwd_pwr}{\code{data.table}. Monthly forward power prices. Must include columns \code{yymm}, \code{value}.}

\item{dt_spot_pwr}{\code{data.table}. Historical hourly spot power prices. Must include \code{date}, \code{hour}, \code{value}, \code{RIC}.}

\item{dt_fwd_gas}{\code{data.table}. Monthly forward gas prices. Must include columns \code{yymm}, \code{value}.}

\item{dt_spot_gas}{\code{data.table}. Historical daily spot gas prices. Must include \code{date}, \code{value}.}

\item{model_gas}{List with model parameters for gas forecasting. Defaults to \code{ENV_MODELS_GAS}.}

\item{model_pwr}{List with model parameters for power forecasting. Defaults to \code{ENV_MODELS_PWR}.}
}
\value{
A \code{data.table} with shaped hourly power forecasts, including:
\describe{
\item{date}{Date of forecasted value}
\item{hour}{Hour of the day (1â€“24)}
\item{forecast}{Forecasted power price}
\item{name}{Scenario label}
}
}
\description{
Combines forward and spot market data for power and gas, along with pre-trained models,
to generate shaped hourly forecasts for power prices over a specified time window.
}
